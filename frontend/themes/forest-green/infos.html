<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-name" content="forest-green">
  <title id="site-title">Informations - Liberteko</title>
  <link rel="stylesheet" href="/vendor/bootstrap-icons/bootstrap-icons.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/theme/css/theme.css">
  <style>
    .page-header {
      background: linear-gradient(135deg, var(--forest-primary) 0%, var(--forest-secondary) 100%);
      padding: 3rem 2rem;
      text-align: center;
      border-bottom: 2px solid rgba(76, 175, 80, 0.3);
    }
    .page-header h1 {
      color: var(--color-text);
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    .page-header p {
      color: var(--color-text-secondary);
      font-size: 1.1rem;
    }
    .infos-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 3rem 2rem;
      position: relative;
      z-index: 1;
    }
    .info-section {
      background: var(--card-bg);
      border-radius: var(--border-radius-lg);
      padding: 2.5rem;
      margin-bottom: 2rem;
      border: 1px solid rgba(76, 175, 80, 0.2);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .info-section h2 {
      color: var(--forest-accent);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-size: 1.8rem;
    }
    .info-section h2 i { font-size: 1.5rem; }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
    }
    .info-card {
      background: rgba(76, 175, 80, 0.05);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      border: 1px solid rgba(76, 175, 80, 0.15);
      transition: all 0.3s ease;
    }
    .info-card:hover {
      border-color: rgba(76, 175, 80, 0.4);
      box-shadow: 0 4px 12px rgba(76, 175, 80, 0.15);
      transform: translateY(-2px);
    }
    .info-card h4 {
      color: var(--forest-accent);
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    .info-card p, .info-card li {
      color: var(--color-text-secondary);
      line-height: 1.8;
    }
    .horaires-list {
      list-style: none;
      padding: 0;
    }
    .horaires-list li {
      display: flex;
      justify-content: space-between;
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba(76, 175, 80, 0.15);
    }
    .horaires-list li:last-child { border-bottom: none; }
    .horaires-list .jour { color: var(--color-text); font-weight: 600; }
    .horaires-list .heures { color: var(--forest-accent); font-weight: 500; }
    .contact-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem 0;
      color: var(--color-text-secondary);
    }
    .contact-item i {
      font-size: 1.5rem;
      color: var(--forest-accent);
      width: 40px;
      text-align: center;
    }
    .contact-item strong {
      color: var(--color-text);
      display: block;
      margin-bottom: 0.25rem;
    }
    .tarifs-table {
      width: 100%;
      border-collapse: collapse;
    }
    .tarifs-table th {
      text-align: left;
      padding: 1rem;
      background: rgba(76, 175, 80, 0.1);
      color: var(--forest-accent);
      border-bottom: 2px solid rgba(76, 175, 80, 0.3);
      font-weight: 600;
    }
    .tarifs-table td {
      padding: 1rem;
      border-bottom: 1px solid rgba(76, 175, 80, 0.1);
      color: var(--color-text);
    }
    .tarifs-table tr:hover td {
      background: rgba(76, 175, 80, 0.05);
    }
    .map-container {
      border-radius: var(--border-radius);
      overflow: hidden;
      height: 300px;
      background: rgba(76, 175, 80, 0.05);
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(76, 175, 80, 0.15);
    }
    .map-placeholder {
      text-align: center;
      color: var(--color-text-secondary);
    }
    .map-placeholder i {
      font-size: 3rem;
      margin-bottom: 1rem;
      color: var(--forest-accent);
    }
    @media (max-width: 768px) {
      .info-section { padding: 1.5rem; }
      .page-header h1 { font-size: 2rem; }
    }
  </style>
</head>
<body>
  <!-- Decorative Pattern -->
  <div class="leaf-pattern"></div>

  <!-- Header -->
  <header class="site-header">
    <div class="header-container">
      <a href="/" class="logo">
        <i class="bi bi-tree"></i>
        <span id="header-title">Liberteko</span>
      </a>
      <nav>
        <ul class="nav-menu">
          <li><a href="/">Accueil</a></li>
          <li><a href="/catalogue.html">Catalogue</a></li>
          <li><a href="/infos.html" class="active">Informations</a></li>
          <li><a href="/aide.html">Aide</a></li>
          <li id="nav-plan" style="display:none;"><a href="/plan.html">Plan</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>
      </nav>
      <a href="/usager/login.html" class="btn-login">
        Mon Espace
      </a>
    </div>
  </header>

  <div class="page-header">
    <h1>Informations</h1>
    <p>Tout savoir sur notre association et nos services</p>
  </div>

  <div class="infos-container">
    <section class="info-section">
      <h2><i class="bi bi-building"></i> A propos de nous</h2>
      <div class="info-grid">
        <div class="info-card">
          <h4>Notre mission</h4>
          <p id="mission">Notre association a pour vocation de partager la culture et le divertissement au travers de nos collections variees. Comme les arbres de la foret qui grandissent ensemble, nous croyons au partage des savoirs et des plaisirs.</p>
        </div>
        <div class="info-card">
          <h4>Nos valeurs</h4>
          <p>Convivialite, partage et decouverte sont les piliers de notre association. Venez profiter d'un moment chaleureux en famille ou entre amis dans un cadre accueillant.</p>
        </div>
      </div>
    </section>

    <section class="info-section">
      <h2><i class="bi bi-clock"></i> Horaires d'ouverture</h2>
      <div class="info-grid">
        <div class="info-card">
          <ul class="horaires-list" id="horaires-list">
            <li><span class="jour">Lundi</span><span class="heures">Ferme</span></li>
            <li><span class="jour">Mardi</span><span class="heures">14h - 18h</span></li>
            <li><span class="jour">Mercredi</span><span class="heures">10h - 12h / 14h - 18h</span></li>
            <li><span class="jour">Jeudi</span><span class="heures">14h - 18h</span></li>
            <li><span class="jour">Vendredi</span><span class="heures">14h - 18h</span></li>
            <li><span class="jour">Samedi</span><span class="heures">10h - 17h</span></li>
            <li><span class="jour">Dimanche</span><span class="heures">Ferme</span></li>
          </ul>
        </div>
        <div class="info-card">
          <h4>Periodes speciales</h4>
          <p>Nous pouvons avoir des horaires modifies pendant les vacances scolaires et les jours feries. Consultez nos actualites ou contactez-nous pour plus d'informations.</p>
        </div>
      </div>
    </section>

    <section class="info-section">
      <h2><i class="bi bi-currency-euro"></i> Tarifs et adhesion</h2>
      <table class="tarifs-table" id="tarifs-table">
        <thead>
          <tr>
            <th>Type d'adhesion</th>
            <th>Tarif annuel</th>
            <th>Avantages</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Individuel</td>
            <td>15&#8364;</td>
            <td>Acces a toutes les collections</td>
          </tr>
          <tr>
            <td>Famille</td>
            <td>25&#8364;</td>
            <td>Pour 2 adultes et enfants du foyer</td>
          </tr>
          <tr>
            <td>Etudiant / Demandeur d'emploi</td>
            <td>10&#8364;</td>
            <td>Sur presentation d'un justificatif</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="info-section">
      <h2><i class="bi bi-geo-alt"></i> Nous trouver</h2>
      <div class="info-grid">
        <div class="info-card">
          <div class="contact-item">
            <i class="bi bi-geo-alt-fill"></i>
            <div>
              <strong>Adresse</strong>
              <p id="contact-adresse">Chargement...</p>
            </div>
          </div>
          <div class="contact-item">
            <i class="bi bi-telephone-fill"></i>
            <div>
              <strong>Telephone</strong>
              <p id="contact-telephone">Chargement...</p>
            </div>
          </div>
          <div class="contact-item">
            <i class="bi bi-envelope-fill"></i>
            <div>
              <strong>Email</strong>
              <p id="contact-email">Chargement...</p>
            </div>
          </div>
        </div>
        <div class="map-container">
          <div class="map-placeholder">
            <i class="bi bi-map"></i>
            <p>Carte interactive bientot disponible</p>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-section">
        <h4>Nous trouver</h4>
        <p id="footer-address"></p>
        <p id="footer-phone"></p>
        <p id="footer-email"></p>
      </div>
      <div class="footer-section">
        <h4>Horaires</h4>
        <div id="footer-horaires">
          <p>Voir la page Infos</p>
        </div>
      </div>
      <div class="footer-section">
        <h4>Liens</h4>
        <ul>
          <li><a href="/infos.html"><i class="bi bi-info-circle"></i> Presentation</a></li>
          <li><a href="/mentions-legales.html"><i class="bi bi-file-text"></i> Mentions legales</a></li>
          <li><a href="/cgu.html"><i class="bi bi-shield-check"></i> CGU</a></li>
          <li><a href="/contact.html"><i class="bi bi-envelope"></i> Contact</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; <span id="year"></span> <span id="footer-name">Liberteko</span> - Cultivons la culture ensemble</p>
    </div>
  </footer>

  <script>
    async function loadConfig() {
      try {
        const resp = await fetch('/api/public/parametres');
        if (!resp.ok) return;
        const data = await resp.json();

        document.getElementById('site-title').textContent = `Informations - ${data.nom || 'Liberteko'}`;
        document.getElementById('header-title').textContent = data.nom || 'Liberteko';
        document.getElementById('footer-name').textContent = data.nom || 'Liberteko';

        document.getElementById('contact-adresse').textContent = data.adresse || 'Non renseigne';
        document.getElementById('contact-telephone').textContent = data.telephone || 'Non renseigne';
        document.getElementById('contact-email').textContent = data.email || 'Non renseigne';

        if (data.adresse) {
          document.getElementById('footer-address').innerHTML = `<i class="bi bi-geo-alt"></i> ${data.adresse}`;
        }
        if (data.telephone) {
          document.getElementById('footer-phone').innerHTML = `<i class="bi bi-telephone"></i> ${data.telephone}`;
        }
        if (data.email) {
          document.getElementById('footer-email').innerHTML = `<i class="bi bi-envelope"></i> ${data.email}`;
        }

        // Show Plan link if module is active
        if (data.module_plan_interactif) {
          const navPlan = document.getElementById('nav-plan');
          if (navPlan) navPlan.style.display = '';
        }
      } catch (e) {
        console.error('Erreur chargement config:', e);
      }
    }

    document.getElementById('year').textContent = new Date().getFullYear();
    loadConfig();
  </script>
</body>
</html>
