<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Médiathèque - Foyer Culturel de Sciez - Site en construction</title>
  <link rel="icon" href="/public/logo_ludo_transparent_100x100.png" type="image/x-icon" />
  <link href="/vendor/bootstrap/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/vendor/bootstrap-icons/bootstrap-icons.min.css">
  <style>
    :root {
      --primary-color: #6f42c1;
      --secondary-color: #20c997;
    }

    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .main-content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .construction-card {
      background: white;
      border-radius: 1rem;
      padding: 3rem;
      text-align: center;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      max-width: 500px;
      width: 90%;
    }

    .logo-container {
      margin-bottom: 2rem;
    }

    .logo-container img {
      max-width: 120px;
      height: auto;
    }

    .logo-placeholder {
      width: 120px;
      height: 120px;
      margin: 0 auto;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 3rem;
    }

    h1 {
      color: #333;
      margin-bottom: 1rem;
    }

    .subtitle {
      color: #6c757d;
      font-size: 1.1rem;
      margin-bottom: 2rem;
    }

    .construction-icon {
      font-size: 4rem;
      color: #ffc107;
      margin-bottom: 1rem;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .progress-section {
      margin: 2rem 0;
    }

    .progress {
      height: 10px;
      border-radius: 5px;
      background-color: #e9ecef;
    }

    .progress-bar {
      background: linear-gradient(90deg, #667eea, #764ba2);
      animation: progress-animation 2s ease-in-out infinite;
    }

    @keyframes progress-animation {
      0% { width: 30%; }
      50% { width: 70%; }
      100% { width: 30%; }
    }

    .admin-link {
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid #e9ecef;
    }

    .admin-link a {
      color: #6c757d;
      text-decoration: none;
      font-size: 0.9rem;
    }

    .admin-link a:hover {
      color: #764ba2;
    }

    .features-preview {
      margin-top: 2rem;
      text-align: left;
    }

    .feature-item {
      display: flex;
      align-items: center;
      padding: 0.5rem 0;
      color: #6c757d;
    }

    .feature-item i {
      margin-right: 0.75rem;
      color: #20c997;
    }

    footer {
      text-align: center;
      padding: 1rem;
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div class="main-content">
    <div class="construction-card">
      <div class="logo-container">
        <div class="logo-placeholder">
          <i class="bi bi-dice-5"></i>
        </div>
      </div>

      <div class="construction-icon">
        <i class="bi bi-tools"></i>
      </div>

      <h1>Ludothèque - Foyer Culturel de Sciez</h1>
      <p class="subtitle">Notre site public est en cours de creation</p>

      <div class="progress-section">
        <div class="progress">
          <div class="progress-bar" role="progressbar"></div>
        </div>
        <small class="text-muted mt-2 d-block">Nous travaillons dur pour vous offrir la meilleure experience</small>
      </div>

      <div class="features-preview">
        <h6 class="text-muted mb-3">Bientot disponible :</h6>
        <div class="feature-item">
          <i class="bi bi-search"></i>
          <span>Catalogue des jeux en ligne</span>
        </div>
        <div class="feature-item">
          <i class="bi bi-calendar-check"></i>
          <span>Reservation de jeux</span>
        </div>
        <div class="feature-item">
          <i class="bi bi-person-circle"></i>
          <span>Espace adherent personnel</span>
        </div>
        <div class="feature-item">
          <i class="bi bi-clock-history"></i>
          <span>Historique de vos emprunts</span>
        </div>
      </div>

      <div class="admin-link">
        <a href="/admin/login.html">
          <i class="bi bi-lock"></i> Acces administration
        </a>
      </div>
    </div>
  </div>

  <footer>
    &copy; 2025 Foyer Culturel de Sciez - Tous droits reserves
  </footer>

  <!-- Triforce Animation Overlay -->
  <div id="_0x4f" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;pointer-events:none;perspective:1000px;">
    <svg id="_0x5a" style="position:absolute;width:120px;height:104px;opacity:0;transform-style:preserve-3d;" viewBox="0 0 100 87">
      <polygon points="50,0 100,87 0,87" fill="#FFD700" stroke="#DAA520" stroke-width="2"/>
    </svg>
    <svg id="_0x5b" style="position:absolute;width:120px;height:104px;opacity:0;transform-style:preserve-3d;" viewBox="0 0 100 87">
      <polygon points="50,0 100,87 0,87" fill="#FFD700" stroke="#DAA520" stroke-width="2"/>
    </svg>
    <svg id="_0x5c" style="position:absolute;width:120px;height:104px;opacity:0;transform-style:preserve-3d;" viewBox="0 0 100 87">
      <polygon points="50,0 100,87 0,87" fill="#FFD700" stroke="#DAA520" stroke-width="2"/>
    </svg>
    <div id="_0x6f" style="position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle,rgba(255,215,0,0) 0%,rgba(255,215,0,0) 100%);opacity:0;"></div>
  </div>

  <script>
  (function(){
    var _0xa=[],_0xb=0,_0xc='',_0xd=!1,_0xe=1e3,_0xf=5e3;
    var _0x10=String.fromCharCode(116,114,105,102,111,114,99,101);
    document.addEventListener('keydown',function(_0x11){
      if(_0xd)return;
      if(_0x11.key===' '){
        _0xa.push(Date.now());
        if(_0xa.length>3)_0xa.shift();
        if(_0xa.length===3&&(_0xa[2]-_0xa[0])<_0xe){
          _0xd=!0;_0xc='';_0xb=Date.now();_0xa=[];
        }
      }
    });
    document.addEventListener('keyup',function(_0x12){
      if(!_0xd)return;
      if(_0x12.key===' ')return;
      if((Date.now()-_0xb)>_0xf){_0xd=!1;_0xc='';return;}
      _0xc+=_0x12.key.toLowerCase();
      if(_0x10.indexOf(_0xc)!==0){_0xd=!1;_0xc='';return;}
      if(_0xc===_0x10){_0xd=!1;_0x13();}
    });
    async function _0x13(){
      try{
        var _0x14=await fetch('/api/maintenance/timestamp');
        var _0x15=await _0x14.json();
        var _0x16=_0x10+':'+_0x15.t;
        var _0x17=new TextEncoder().encode(_0x16);
        var _0x18=await window.crypto.subtle.digest('SHA-256',_0x17);
        var _0x19=Array.from(new Uint8Array(_0x18)).map(function(b){return b.toString(16).padStart(2,'0');}).join('');
        var _0x1a=await fetch('/api/maintenance/unlock',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({hash:_0x19})
        });
        var _0x1b=await _0x1a.json();
        if(_0x1b.success){_0x1c();}
      }catch(e){console.error(e);}
    }
    function _0x1c(){
      var _0x1d=document.getElementById('_0x4f');
      var _0x1e=document.getElementById('_0x5a');
      var _0x1f=document.getElementById('_0x5b');
      var _0x20=document.getElementById('_0x5c');
      _0x1d.style.display='block';
      var _0x40=120,_0x41=104;
      var _0x42=window.innerWidth/2;
      var _0x43=window.innerHeight/2;
      var _0x44=_0x42-_0x40/2;
      var _0x45=_0x43+1;
      var _0x46=_0x42-_0x40;
      var _0x47=_0x43;
      var _0x48=_0x42;
      var _0x49=_0x43;
      _0x1e.style.left='-150px';_0x1e.style.bottom='-150px';_0x1e.style.top='auto';_0x1e.style.right='auto';_0x1e.style.opacity='1';
      _0x1f.style.right='-150px';_0x1f.style.bottom='-150px';_0x1f.style.left='auto';_0x1f.style.top='auto';_0x1f.style.opacity='1';
      _0x20.style.left=_0x44+'px';_0x20.style.top='-150px';_0x20.style.right='auto';_0x20.style.bottom='auto';_0x20.style.opacity='1';
      var _0x24=0;
      var _0x25=setInterval(function(){
        _0x24+=2;
        _0x1e.style.transform='rotateY('+_0x24+'deg)';
        _0x1f.style.transform='rotateY('+_0x24+'deg)';
        _0x20.style.transform='rotateY('+_0x24+'deg)';
      },16);
      var _0x26=5760,_0x27=performance.now();
      var _0x4a=-150,_0x4b=window.innerHeight+150;
      var _0x4c=window.innerWidth+150,_0x4d=window.innerHeight+150;
      var _0x4e=_0x44,_0x4f=-150;
      function _0x28(_0x29){
        var _0x2a=_0x29-_0x27;
        var _0x2b=Math.min(_0x2a/_0x26,1);
        var _0x2c=_0x2b<0.5?2*_0x2b*_0x2b:1-Math.pow(-2*_0x2b+2,2)/2;
        var _0x50=_0x4a+(_0x46-_0x4a)*_0x2c;
        var _0x51=_0x4b+(_0x47-_0x4b)*_0x2c;
        var _0x52=_0x4c+(_0x48-_0x4c)*_0x2c;
        var _0x53=_0x4d+(_0x49-_0x4d)*_0x2c;
        var _0x54=_0x4e+(_0x44-_0x4e)*_0x2c;
        var _0x55=_0x4f+(_0x45-_0x41-_0x4f)*_0x2c;
        _0x1e.style.left=_0x50+'px';_0x1e.style.bottom='auto';_0x1e.style.top=_0x51+'px';
        _0x1f.style.right='auto';_0x1f.style.left=_0x52+'px';_0x1f.style.bottom='auto';_0x1f.style.top=_0x53+'px';
        _0x20.style.left=_0x54+'px';_0x20.style.top=_0x55+'px';
        if(_0x2b<1){requestAnimationFrame(_0x28);}
        else{
          clearInterval(_0x25);
          _0x1e.style.left=_0x46+'px';_0x1e.style.top=_0x47+'px';_0x1e.style.transform='rotateY(0deg)';
          _0x1f.style.left=_0x48+'px';_0x1f.style.top=_0x49+'px';_0x1f.style.transform='rotateY(0deg)';
          _0x20.style.left=_0x44+'px';_0x20.style.top=(_0x45-_0x41)+'px';_0x20.style.transform='rotateY(0deg)';
          var _0x32=0;
          var _0x33=setInterval(function(){
            _0x32+=2;
            _0x1e.style.transform='rotateY('+_0x32+'deg)';
            _0x1f.style.transform='rotateY('+_0x32+'deg)';
            _0x20.style.transform='rotateY('+_0x32+'deg)';
            if(_0x32>=360){
              clearInterval(_0x33);
              _0x1e.style.transform='rotateY(0deg)';
              _0x1f.style.transform='rotateY(0deg)';
              _0x20.style.transform='rotateY(0deg)';
              _0x34();
            }
          },16);
        }
      }
      requestAnimationFrame(_0x28);
    }
    function _0x34(){
      var _0x35=document.getElementById('_0x6f');
      var _0x36=0;
      var _0x56=4000;
      var _0x57=performance.now();
      var _0x37=setInterval(function(){
        var _0x58=(performance.now()-_0x57)/_0x56;
        _0x36=Math.min(_0x58,1);
        _0x35.style.opacity=_0x36;
        _0x35.style.background='radial-gradient(circle,rgba(255,215,0,'+Math.min(_0x36*1.5,1)+') 0%,rgba(255,215,0,'+Math.min(_0x36*1.2,0.9)+') 30%,rgba(255,215,0,'+Math.min(_0x36*0.9,0.7)+') 60%,rgba(255,215,0,'+Math.min(_0x36*0.5,0.4)+') 85%,rgba(255,215,0,0) 100%)';
        if(_0x36>=1){
          clearInterval(_0x37);
          setTimeout(function(){
            var _0x38=document.createElement('div');
            _0x38.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;background:white;z-index:10000;opacity:0;transition:opacity 0.5s ease-in;';
            document.body.appendChild(_0x38);
            setTimeout(function(){_0x38.style.opacity='1';},20);
            setTimeout(function(){
              document.cookie='maintenance_bypass=true;max-age=259200;path=/';
              window.location.reload();
            },2500);
          },500);
        }
      },16);
    }
  })();
  </script>
</body>
</html>
